# 本のバーコードスキャナー Webアプリケーション 要件書

## 1. 概要
本のバーコード（ISBN）をスキャンして、書籍情報と価格情報を取得・管理できるWebアプリケーション

## 2. 主要機能

### 2.1 バーコードスキャン機能
- **機能**: デバイスのカメラを使用してISBNバーコードをスキャン
- **技術**: WebカメラAPI + ZXing-js ライブラリ
- **対象**: ISBN-10, ISBN-13に対応

### 2.2 書籍情報取得機能
- **機能**: スキャンしたISBNから書籍情報を自動取得
- **取得情報**:
  - タイトル
  - 著者名
  - 定価（税込み）
  - 出版社
  - 出版日
- **API**: Google Books API（無料）

### 2.3 Amazon中古価格取得機能
- **機能**: Amazon上の中古価格を取得
- **実装**: サーバーサイドAPI経由で取得
- **価格情報**: 最安値の中古価格

### 2.4 書籍リスト表示機能
- **機能**: スキャンした書籍を一覧表示
- **表示項目**:
  - 書籍画像（サムネイル）
  - タイトル
  - 著者名
  - 定価
  - Amazon中古価格
  - 価格差（定価 - 中古価格）
- **操作**: 個別削除機能

### 2.5 データエクスポート機能
- **機能**: 書籍リストをファイル形式でダウンロード
- **対応形式**:
  - Excel (.xlsx)
  - CSV (.csv)
- **エクスポート項目**: 表示されている全項目

## 3. 技術仕様

### 3.1 フロントエンド
- **言語**: HTML, CSS, JavaScript（ES6+）
- **ライブラリ**:
  - ZXing-js（バーコードスキャン）
  - SheetJS（Excelエクスポート）
  - Axios（HTTP通信）
- **要件**: モダンブラウザ（Chrome, Firefox, Safari, Edge）

### 3.2 バックエンド
- **言語**: Python 3
- **フレームワーク**: FastAPI または Flask
- **機能**: Amazon価格取得API提供
- **ライブラリ**: 
  - requests (HTTP通信)
  - beautifulsoup4 (Web Scraping)
  - fastapi/flask (API framework)
- **API**: Amazon Product Advertising API または Web Scraping

### 3.3 外部API
- **Google Books API**: 書籍情報取得（無料、認証不要）
- **Amazon API**: 中古価格取得（サーバー経由）

## 4. ユーザーインターフェース

### 4.1 メイン画面構成
1. **ヘッダー**: アプリケーション名
2. **スキャンエリア**: カメラ画面とスキャンボタン
3. **書籍リスト**: スキャンした書籍の一覧表示
4. **エクスポートボタン**: Excel/CSVダウンロード

### 4.2 レスポンシブデザイン
- スマートフォン、タブレット、デスクトップに対応
- カメラ機能はモバイル端末で最適化

## 5. セキュリティ要件
- HTTPS必須（カメラアクセスのため）
- CORS設定によるセキュアな通信
- 個人情報の保存なし（セッションベース）
- APIキー等の機密情報は環境変数で管理
- .gitignoreでシークレット情報を除外

## 6. ソースコード管理
- **バージョン管理**: Git
- **リポジトリ構成**:
  ```
  project-root/
  ├── frontend/          # HTML/CSS/JavaScript
  ├── backend/           # Python FastAPI
  ├── .env.example       # 環境変数テンプレート
  ├── .gitignore         # Git除外設定
  └── README.md         # プロジェクト説明
  ```
- **環境変数管理**:
  - `.env` ファイル（Git管理対象外）
  - `.env.example` ファイル（テンプレート、Git管理対象）
  - 本番環境では環境変数で直接設定

## 7. 制約事項
- インターネット接続必須（API使用のため）
- カメラアクセス権限必須
- Amazon価格取得には制限あり（API利用制限）

## 8. 開発フェーズ

### フェーズ1: 基本機能（MVP）
- バーコードスキャン
- Google Books API連携
- 基本UI

### フェーズ2: 価格機能
- Python バックエンドAPI開発
- Amazon価格取得
- フロントエンド統合

### フェーズ3: 完成版
- エクスポート機能
- UI/UX改善
- エラーハンドリング強化

## 9. 成功基準
- バーコードスキャン精度 95%以上
- 書籍情報取得成功率 90%以上
- レスポンス時間 3秒以内
- モバイル対応完全サポート